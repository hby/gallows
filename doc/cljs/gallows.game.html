<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>gallows.game documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Gallows</span> <span class="project-version">0.1.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>gallows</span></div></div></li><li class="depth-2 branch"><a href="gallows.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch current"><a href="gallows.game.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>game</span></div></a></li><li class="depth-2 branch"><a href="gallows.state.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>state</span></div></a></li><li class="depth-2 branch"><a href="gallows.view.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>view</span></div></a></li><li class="depth-2"><a href="gallows.websockets.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>websockets</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="gallows.game.html#var-add-word"><div class="inner"><span>add-word</span></div></a></li><li class="depth-1"><a href="gallows.game.html#var-game-report"><div class="inner"><span>game-report</span></div></a></li><li class="depth-1"><a href="gallows.game.html#var-game-report-payload"><div class="inner"><span>game-report-payload</span></div></a></li><li class="depth-1"><a href="gallows.game.html#var-guess-letter"><div class="inner"><span>guess-letter</span></div></a></li><li class="depth-1"><a href="gallows.game.html#var-handle-message"><div class="inner"><span>handle-message</span></div></a></li><li class="depth-1"><a href="gallows.game.html#var-lose.3F"><div class="inner"><span>lose?</span></div></a></li><li class="depth-1"><a href="gallows.game.html#var-report-game"><div class="inner"><span>report-game</span></div></a></li><li class="depth-1"><a href="gallows.game.html#var-send-to-server"><div class="inner"><span>send-to-server</span></div></a></li><li class="depth-1"><a href="gallows.game.html#var-set-message"><div class="inner"><span>set-message</span></div></a></li><li class="depth-1"><a href="gallows.game.html#var-set-players"><div class="inner"><span>set-players</span></div></a></li><li class="depth-1"><a href="gallows.game.html#var-start-game"><div class="inner"><span>start-game</span></div></a></li><li class="depth-1"><a href="gallows.game.html#var-update-name"><div class="inner"><span>update-name</span></div></a></li><li class="depth-1"><a href="gallows.game.html#var-win.3F"><div class="inner"><span>win?</span></div></a></li><li class="depth-1"><a href="gallows.game.html#var-ws-ping"><div class="inner"><span>ws-ping</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">gallows.game</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-add-word"><h3>add-word</h3><div class="usage"><code>(add-word w)</code></div><div class="doc"><pre class="plaintext">Sends :add-word message to server and updates word game state.

w - word to send in payload.</pre></div></div><div class="public anchor" id="var-game-report"><h3>game-report</h3><div class="usage"><code>(game-report {new-report :message})</code></div><div class="doc"><pre class="plaintext">Adds a game report message in the payload
to the reports state.</pre></div></div><div class="public anchor" id="var-game-report-payload"><h3>game-report-payload</h3><div class="usage"><code>(game-report-payload game)</code></div><div class="doc"><pre class="plaintext">Return a payload for a :report-game message.

game - immutable game</pre></div></div><div class="public anchor" id="var-guess-letter"><h3>guess-letter</h3><div class="usage"><code>(guess-letter l)</code></div><div class="doc"><pre class="plaintext">Update game state according to letter guessed.
A game report is sent on a win or lose.

l - the guessed letter</pre></div></div><div class="public anchor" id="var-handle-message"><h3>handle-message</h3><div class="usage"><code>(handle-message {:keys [type payload]})</code></div><div class="doc"><pre class="plaintext">Perform the game logic for server message.
Dispatch payload according to (msg :type).

channel - websocket channel
msg     - message type and payload from client</pre></div></div><div class="public anchor" id="var-lose.3F"><h3>lose?</h3><div class="usage"><code>(lose? game)</code></div><div class="doc"><pre class="plaintext">A game is lost on the 6th incorrect guess.

game - immutable game</pre></div></div><div class="public anchor" id="var-report-game"><h3>report-game</h3><div class="usage"><code>(report-game game)</code></div><div class="doc"><pre class="plaintext">Sends :report-game message to server.

game - immutable game</pre></div></div><div class="public anchor" id="var-send-to-server"><h3>send-to-server</h3><div class="usage"><code>(send-to-server type payload)</code></div><div class="doc"><pre class="plaintext">Sends a message over ws to server.

type    - message type (typically a keyword)
payload - the message payload</pre></div></div><div class="public anchor" id="var-set-message"><h3>set-message</h3><div class="usage"><code>(set-message {new-message :message})</code></div><div class="doc"><pre class="plaintext">Sets the message game state to the message
in the payload.</pre></div></div><div class="public anchor" id="var-set-players"><h3>set-players</h3><div class="usage"><code>(set-players {new-players :players})</code></div><div class="doc"><pre class="plaintext">Sets the players game state to the players
in the payload. They are sorted by name.</pre></div></div><div class="public anchor" id="var-start-game"><h3>start-game</h3><div class="usage"><code>(start-game {:keys [name id word], :as player})</code></div><div class="doc"><pre class="plaintext">Starts a game with a player by updating the game state.

player - immutable player from the players state.</pre></div></div><div class="public anchor" id="var-update-name"><h3>update-name</h3><div class="usage"><code>(update-name n)</code></div><div class="doc"><pre class="plaintext">Sends :update-name message to server and updates name game state.

n - name to send in payload. If name is empty
    &apos;Anonymous&apos; is sent</pre></div></div><div class="public anchor" id="var-win.3F"><h3>win?</h3><div class="usage"><code>(win? game)</code></div><div class="doc"><pre class="plaintext">A game is won when all of hangman are in guessed
(expect for spaces in hangman).

game - immutable game</pre></div></div><div class="public anchor" id="var-ws-ping"><h3>ws-ping</h3><div class="usage"><code>(ws-ping _)</code></div><div class="doc"><pre class="plaintext">Does nothing
</pre></div></div></div></body></html>